{"componentChunkName":"component---src-templates-blog-post-js","path":"/github/githubpages404html/","result":{"data":{"site":{"siteMetadata":{"title":"Heaeun","author":"Heaeun","siteUrl":"https://yoonhe.github.io","comment":{"disqusShortName":"yoonhe","utterances":"yoonhe/yoonhe.github.io"},"sponsor":{"buyMeACoffeeId":"yoonhe"}}},"markdownRemark":{"id":"9a11d780-8380-5857-8e9f-ff94a45eb86c","excerpt":"문제 github pages에 배포 후 라우팅된 페이지에서 새로고침시 404 페이지가 보여지는 문제 원인 github pages는 SPA를 지원하지 않습니다. 그래서 URL이 에서는 새로고침해도 페이지가 잘 보이지만 에서 새로고침할 경우 깃허브 페이지 서버는 를 모르기 때문에  에러와 404.html 페이지를 리턴합니다. 해결방법 GitHub Pages 를 사용하는 경우에는 편법이지만 404.html 을 많이 사용해요.\n자체적으로 제공해주기 때문이에요.\nCI 에서는 그래서 index.html…","html":"<h2 id=\"문제\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C\" aria-label=\"문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제</h2>\n<p>github pages에 배포 후 라우팅된 페이지에서 새로고침시 404 페이지가 보여지는 문제</p>\n<h2 id=\"원인\" style=\"position:relative;\"><a href=\"#%EC%9B%90%EC%9D%B8\" aria-label=\"원인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>원인</h2>\n<p>github pages는 SPA를 지원하지 않습니다. 그래서 URL이 <code class=\"language-text\">https://[도메인]</code>에서는 새로고침해도 페이지가 잘 보이지만 <code class=\"language-text\">https://[도메인]/main</code>에서 새로고침할 경우 깃허브 페이지 서버는 <code class=\"language-text\">/main</code>를 모르기 때문에 <code class=\"language-text\">404</code> 에러와 404.html 페이지를 리턴합니다.</p>\n<h2 id=\"해결방법\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95\" aria-label=\"해결방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결방법</h2>\n<blockquote>\n<p>GitHub Pages 를 사용하는 경우에는 편법이지만 404.html 을 많이 사용해요.\n자체적으로 제공해주기 때문이에요.\nCI 에서는 그래서 index.html 을 404.html 로 복사하는 스크립트를 추가해주면 될거에요 ;)</p>\n</blockquote>\n<blockquote>\n<p>GitHub Pages 에서는 라우팅을 지원하지 않기 때문에\nCI 에서 빌드할 때 index.html -> 404.html 로 옮겨서 처리해줘야 해요.\n그래서 404 페이지를 index 페이지로 잡아줘서 라우팅을 시켜주는방법이에요.</p>\n</blockquote>\n<p>CI에서 빌드할 때 <code class=\"language-text\">index.html</code>을 <code class=\"language-text\">404.html</code>로 복사하는 스크립트를 추가해주면 된다!</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># CI 설정파일</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install and Build 🔧 \n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          npm install\n          npm run build\n          cp dist/index.html dist/404.html</span></code></pre></div>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>github pages에서 라우팅을 지원하지 않아 루트 경로 이외의 경로는\n<code class=\"language-text\">404.html</code>을 반환합니다. 이를 해결하기 위해 빌드 단계에서\n<code class=\"language-text\">index.html</code>과 내용이 같은 <code class=\"language-text\">404.html</code>을 만들어서 <code class=\"language-text\">404.html</code>이\n반환되었을때 <code class=\"language-text\">index.html</code>이 보이는 것 처럼 눈속임이 가능하다</p>\n<h2 id=\"참고글\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EA%B8%80\" aria-label=\"참고글 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고글</h2>\n<ul>\n<li><a href=\"https://velog.io/@ausg/gh-pages-react-router\">Github Page로 React SPA 배포하기 (ft. React Router)</a></li>\n<li><a href=\"https://iamsjy17.github.io/react/2018/11/04/githubpage-SPA.html\">[React] GitHub Pages에 React App(SPA) 호스팅 하기</a></li>\n</ul>\n<h2 id=\"참고-리뷰글\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EB%A6%AC%EB%B7%B0%EA%B8%80\" aria-label=\"참고 리뷰글 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 리뷰글</h2>\n<ul>\n<li><a href=\"https://github.com/CodeSoom/project-react-3-datalater/issues/12#issuecomment-814219023\">https://github.com/CodeSoom/project-react-3-datalater/issues/12#issuecomment-814219023</a></li>\n<li><a href=\"https://github.com/CodeSoom/project-react-3-yoonhe/issues/69\">https://github.com/CodeSoom/project-react-3-yoonhe/issues/69</a></li>\n</ul>","frontmatter":{"title":"github pages에서 라우팅된 페이지에서 새로고침시 404페이지를 반환합니다","date":"April 15, 2021"}}},"pageContext":{"slug":"/github/githubpages404html/","previous":{"fields":{"slug":"/testing/usehistorymocking/"},"frontmatter":{"title":"react-router-dom useHistory 함수 mocking하기","category":"testing","draft":false}},"next":{"fields":{"slug":"/react/reverseScroll/"},"frontmatter":{"title":"역방향 무한스크롤 구현","category":"react","draft":false}}}},"staticQueryHashes":["2486386679","3128451518"]}